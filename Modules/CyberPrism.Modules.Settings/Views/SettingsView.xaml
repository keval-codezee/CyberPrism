<UserControl x:Class="CyberPrism.Modules.Settings.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:prism="http://prismlibrary.com/"
             prism:ViewModelLocator.AutoWireViewModel="True">
    
    <UserControl.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,10,0"/>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="0,5"/>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Height" Value="25"/>
            <Setter Property="Padding" Value="5,0"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>

        <Style x:Key="SaveButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#28A745"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                CornerRadius="3">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="#444444"/>
                    <Setter Property="Foreground" Value="#888888"/>
                    <Setter Property="Cursor" Value="Arrow"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>

    <Grid Margin="20">
        <StackPanel MaxWidth="600" HorizontalAlignment="Left">
            <TextBlock Text="Application Settings" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

            <!-- Module Visibility Group -->
            <GroupBox Header="Module Visibility" Foreground="White" BorderBrush="{StaticResource LightBorderBrush}" Margin="0,0,0,20" Padding="10">
                <StackPanel>
                    <CheckBox Content="Dashboard" IsChecked="{Binding Settings.ShowDashboard}"/>
                    <CheckBox Content="Production" IsChecked="{Binding Settings.ShowProduction}"/>
                    <CheckBox Content="Analytics" IsChecked="{Binding Settings.ShowAnalytics}"/>
                </StackPanel>
            </GroupBox>

            <!-- General Settings Group -->
            <GroupBox Header="General Settings" Foreground="White" BorderBrush="{StaticResource LightBorderBrush}" Margin="0,0,0,20" Padding="10">
                <StackPanel>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Machine Name:" Grid.Column="0"/>
                        <TextBox Text="{Binding Settings.MachineName}" Grid.Column="1"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="IP Address:" Grid.Column="0"/>
                        <TextBox Text="{Binding Settings.IpAddress}" Grid.Column="1"/>
                    </Grid>

                    <CheckBox Content="Dark Mode" IsChecked="{Binding Settings.IsDarkMode}" Margin="0,10,0,5"/>
                    <CheckBox Content="Enable Notifications" IsChecked="{Binding Settings.NotificationsEnabled}"/>
                </StackPanel>
            </GroupBox>

            <!-- Actions -->
            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                <Button Command="{Binding SyncCommand}" Content="Save" 
                        Height="35" Width="120" HorizontalAlignment="Left" 
                        Style="{StaticResource SaveButtonStyle}"/>
            </StackPanel>
        </StackPanel>
    </Grid>
</UserControl>

